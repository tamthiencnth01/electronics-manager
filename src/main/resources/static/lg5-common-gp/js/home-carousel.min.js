$(document).ready(function(){if(!document.querySelector(".support-carousel"))return!1;var i={$el:$(".support-carousel"),init:function(){this.$el.find(".carousel-wrap.type-hero").each(function(){1<$(this).find(".carousel-box").length?i.runSlick($(this)):$(this).addClass("active")}),this.$el.find(".carousel-wrap.type-etc").each(function(){$(this).addClass("active")}),this.addAriaDescribedby()},runSlick:function(s){var a="black";s.find(".carousel-box").eq(0).find(".text-area").hasClass("text-white")&&(a="white"),s.slick({infinite:!1,listStyle:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!0,autoplay:!0,autoplaySpeed:8e3,prevArrow:carouselOptions.bigAnglePrev,nextArrow:carouselOptions.bigAngleNext,appendDots:s.next().find(".slick-dot-wrap")}),s.addClass("active"),s.addClass("slick-"+a),s.on("beforeChange",function(e,t,i,a){s.find(".carousel-box[data-slick-index="+a+"] .visual-area img[data-src]").addClass("lazyload")}),s.on("afterChange",function(e,t,i){a=s.find(".slick-current .text-area").hasClass("text-white")?"white":"black",s.removeClass("slick-white").removeClass("slick-black").addClass("slick-"+a)}),s.next().find(".slide-pause").addClass("active").on("click",function(e){e.preventDefault(),$(this).hasClass("pause")?($(this).removeClass("pause").addClass("play"),$(this).text($(this).attr("data-title-play")),s.slick("slickPause")):($(this).removeClass("play").addClass("pause"),$(this).text($(this).attr("data-title-stop")),s.slick("slickPlay"))})},addAriaDescribedby:function(){var t=0;$(i.$el).find(".text-area").each(function(){var e;$(this).find(".title")&&!$(this).find(".title").is(":empty")&&(e=$(this).find(".title")),e&&(e.attr("id","supportHome_"+t),$(this).find("a.btn").attr("aria-describedby","supportHome_"+t),$(this).find("a.link-text").attr("aria-describedby","supportHome_"+t),t++)})}};i.init();var u=[];jQuery,document.querySelector(".search-common-hero")&&$(".search-common-hero").each(function(h){var e=$(this);null==e.data("searchIdx")&&(h=u.length,this.setAttribute("data-search-idx",h),u[h]={$obj:e,canFocus:0,canSubmit:0,canCookie:0,minLength:0,cookieName:"",action:"",max:10,functionName:"",$layer:null,$input:null,$recentArea:null,$resultArea:null,$template:null,$btnSubmit:"",$btnClose:"",init:function(){var e=this.$obj;this.canFocus=e.data("canfocus"),this.canSubmit=e.data("cansubmit"),this.cookieName=e.data("cookiename"),this.functionName=e.data("function"),this.minLength=e.data("minlength")?e.data("minlength"):1,this.$layer=i.$el.find(".support-search-content"),this.$input=e.find(".search-common-input"),this.$recentArea=this.$layer.find(".recent-suggested-type"),this.$resultArea=this.$layer.find(".search-result-list"),this.$template=this.$layer.find("template"),this.action=e.attr("action"),this.max=e.data("max"),this.$btnSubmit=e.find("input.submit"),this.$btnClose=i.$el.find(".support-search-content").find(".link-close"),this.cookieName&&(this.canCookie=1),0<this.$layer.length&&(this.bindInput(),0<this.canFocus?this.bindFocus():(this.$resultArea.find(".search-result-seemore").hide(),this.bindNoFocus()),this.$input.on("keydown",function(e){9===e.keyCode&&e.shiftKey&&i.$el.find(".support-search-content").removeClass("active")}),this.$btnSubmit.on("keydown",function(e){9!==e.which||e.shiftKey||u[h].$layer.hasClass("active")&&(e.preventDefault(),i.$el.find(".support-search-content").find("a[href]:visible, area[href]:visible, button:not([disabled]), *[tabindex], *[contenteditable]").first().focus())}),this.$layer.on({keydown:function(e){var t,i=e.currentTarget.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]'),a=(i=Array.prototype.slice.call(i))[0],i=i[i.length-1];9===e.keyCode&&(e.shiftKey?document.activeElement===a&&(e.preventDefault(),i.focus()):document.activeElement===i&&(e.preventDefault(),0<u[h].$btnSubmit.length&&u[h].$input.focus(),t=u[h].$layer,setTimeout(function(){t.removeClass("active")},100))),27===e.keyCode&&closeModal()}},".predictive-search")),this.$btnClose.on("click",function(e){e.preventDefault(),0<u[h].$btnSubmit.length&&u[h].$input.focus();var t=u[h].$layer;setTimeout(function(){t.removeClass("active"),i.$el.find(".carousel-wrap.type-hero").next().find(".slide-pause").hasClass("pause")&&i.$el.find(".carousel-wrap.type-hero").slick("slickPlay")},100)}),this.bindSubmit(),$("body").on("click touchend",function(e){$(e.target).parents(".search-area")[0]||(u[h].$layer.removeClass("active"),i.$el.find(".carousel-wrap.type-hero").next().find(".slide-pause").hasClass("pause")&&i.$el.find(".carousel-wrap.type-hero").slick("slickPlay"))}),this.$recentArea.find("ul.list:last-child li:last-child a").on("blur",function(){u[h].$layer.removeClass("active")}),this.$resultArea.find(".search-result-seemore a").on("blur",function(){u[h].$layer.removeClass("active")}),this.$input.data("oldtext","")},bindNoFocus:function(){0<$(".search-model-result").length&&this.$input.on("focus",function(e){e.preventDefault(),u[h].$layer.hasClass("active")||u[h].$layer.addClass("active")})},bindFocus:function(){this.$input.on("focus",function(e){e.preventDefault(),1==this.canCookie&&(null==(e=getCookie(u[h].cookieName))&&(e=""),e.split("|"),""==e&&removeCookie(u[h].cookieName)),u[h].$layer.hasClass("active")||(u[h].$layer.addClass("active"),i.$el.find(".carousel-wrap.type-hero").slick("slickPause")),u[h].doRecent(),i.$el.find(".carousel-wrap.type-hero").slick("slickGoTo",0,!0)})},bindInput:function(){this.$input.on("input",function(e){var t;1==this.canCookie&&((t=getCookie(u[h].cookieName)).split("|"),""==t&&removeCookie(u[h].cookieName)),""==u[h].$input.val()&&u[h].$input.data("oldtext")!=u[h].$input.val()?(u[h].doRecent(),u[h].$layer.hasClass("active")||u[h].$layer.addClass("active")):u[h].minLength<=u[h].$input.val().length&&(u[h].doResult(),u[h].$layer.hasClass("active")||u[h].$layer.addClass("active")),u[h].$input.data("oldtext",u[h].$input.val())}),this.$input.on("focus",function(e){0<u[h].$input.closest(".GPC0009").length&&(u[h].doResult(),u[h].$layer.hasClass("active")||u[h].$layer.addClass("active"))})},bindSubmit:function(){this.$btnSubmit.on("click",function(e){e.preventDefault(),0<$(this).closest(".parts-accessories").length&&adobeTrackEvent("parts-accessories-search",{search_keyword:$(this).siblings(".search-common-input").val(),search_type:"support:parts_accessories",page_event:{onsite_search:!0}}),u[h].doSubmit()})},bindClickKeyword:function(){u[h].$recentArea.find("ul.list li a").not(".delete").off("click","**").on("click",function(e){e.preventDefault();e=xssfilter($(this).find(".product-name").text(),"form");u[h].$input.val(e),u[h].doSubmit()})},bindDeleteKeyword:function(){u[h].$recentArea.find("ul.list li a.delete").off("click","**").on("click",function(e){e.preventDefault();var t=xssfilter($(this).parent().find(".product-name").text(),"form"),i=u[h].$recentArea.find(".not-result.recent-keyword"),e=u[h].$recentArea.find("ul.list.recent-keyword");1==u[h].canCookie&&u[h].deleteCookieList(t),$(this).closest("li").remove(),u[h].$recentArea.find("ul.list.recent-keyword li").length<=0&&(i.show(),e.empty().hide())})},doSubmit:function(e){var t=xssfilter(this.$input.val(),"form");if(this.$input.val(t),this.$obj.is(".auto-validation-form"))this.$obj.submit();else{if(""==$.trim(t))return!1;1==this.canCookie&&this.addCookieList(t);t=this.$resultArea.find(".no-submit");if(1!=this.canSubmit||1==e)return t.show(),0<$(".search-model-result").length&&this.canFocus<=0&&(u[h].$layer.hasClass("active")||u[h].$layer.addClass("active")),!1;0<$(".resource-search-form-wrap").length&&0<$(".results-summary").length&&adobeTrackEvent("cs-onsite-search",{search_keyword:u[h].$obj.find(".search-input input[type=text]").val(),page_event:{onsite_search:!0}}),this.$obj.submit()}},doResult:function(){this.$resultArea.show(),this.$recentArea.hide();var e=this.$resultArea.find(".no-submit"),t=this.$input.data("predictive-url"),i={};0<this.$resultArea.closest(".GPC0009").length?(i.searchModel=xssfilter(this.$input.val(),"form"),i.modelId=this.$obj.find("input[name=modelId]").val()):i.search=xssfilter(this.$input.val(),"form"),e.hide(),ajax.call(t,i,"json",function(e,t){e.data?u[h].ajaxSuccess(e.data[0],t):u[h].ajaxSuccess(e,t)})},doRecent:function(){if(1==this.canFocus&&this.$recentArea.show(),this.$resultArea.hide(),"undefined"==typeof ePrivacyCookies||ePrivacyCookies.get("LGCOM_IMPROVEMENTS")){var e,t;if(1==this.canCookie){null==(e=getCookie(this.cookieName))&&(e=""),t=e.split("|"),""==e&&removeCookie(this.cookieName);var i=u[h].$recentArea.find(".not-result.recent-keyword"),a=u[h].$recentArea.find("ul.list.recent-keyword");if("undefined"==e||""==e)i.show(),a.empty().hide();else if(""==e)i.show(),a.empty().hide();else{for(var s="",n=0;n<t.length;n++)s=s+'<li><a href="#"><strong class="product-name">'+t[n]+'</strong></a><a href="#" class="delete"><span class="icon"></span><span class="sr-only">Delete</span></a></li>';i.hide(),a.html(s).show(),this.bindDeleteKeyword()}this.bindClickKeyword(),this.$recentArea.find(".search-head").eq(0).show()}else u[h].$recentArea.find(".not-result.recent-keyword").hide(),u[h].$recentArea.find("ul.list.recent-keyword").empty().hide(),this.$recentArea.find(".search-head").eq(0).hide()}else{a=this.$recentArea.find("ul.list.recent-keyword");a.siblings(".not-result.recent-keyword").hide(),ePrivacyCookies.view("load","small",a)}},addCookieList:function(e){var t=getCookie(this.cookieName);null==t&&(t="");var i=t.split("|"),a=i.indexOf(e);-1<a&&i.splice(a,1),5<=i.length&&i.pop(),"undefined"==t||""==t?i=[e]:i.unshift(e),"undefined"!=typeof ePrivacyCookies&&!ePrivacyCookies.get("LGCOM_IMPROVEMENTS")||setCookie(this.cookieName,i.join("|"))},deleteCookieList:function(e){var t=getCookie(this.cookieName);null==t&&(t="");t=t.split("|"),e=t.indexOf(e);-1<e&&t.splice(e,1),("undefined"==typeof ePrivacyCookies||ePrivacyCookies.get("LGCOM_IMPROVEMENTS"))&&0<t.length?setCookie(this.cookieName,t.join("|")):removeCookie(this.cookieName)},ajaxSuccess:function(e,t){var i=u[h].$resultArea.find(".search-result-seemore");e.link&&""!=e.link?i.show().find("a").attr("href",e.link):i.hide();var a=u[h].$resultArea.find(".not-result"),s=u[h].$resultArea.find("ul.list");if("N"==e.Flag)a.show(),s.hide();else{a.hide(),s.show();var n=e.predictive?e.predictive.length:"";if(html="",0<n){if(n>this.max&&(n=this.max),null!=this.$template[0]){var o=this.$template;this.$template.find("script").remove();for(var r=0;r<n;r++){var l=(l=o.clone().html()).replace("*url*",e.predictive[r].url).replace("*model*",e.predictive[r].model).replace("*name*",e.predictive[r].name).replace("*category*",e.predictive[r].category);html+=l}}else for(var c=0;c<n;c++){var d="";e.predictive[c].cate?d=d+" data-category="+e.predictive[c].cate:e.predictive[c].cs_category_id&&(d=d+" data-category="+e.predictive[c].cs_category_id),e.predictive[c].subcate?d=d+" data-subcategory="+e.predictive[c].subcate:e.predictive[c].cs_sub_category_id&&(d=d+" data-subcategory="+e.predictive[c].cs_sub_category_id),html=e.predictive[c].model&&!e.helpModelFlag?"jp"==COUNTRY_CODE.toLowerCase()?html+'<li><a rel="nofollow" href="'+e.predictive[c].url+'"'+d+'><span class="model-name">'+e.predictive[c].model+'</span><span class="category-name">'+e.predictive[c].category+"</span></a></li>":html+'<li><a rel="nofollow" href="'+e.predictive[c].url+'"'+d+'><span class="model-name">'+e.predictive[c].model+'</span><span class="product-name">'+e.predictive[c].name+'</span><span class="category-name">'+e.predictive[c].category+"</span></a></li>":e.helpModelFlag||e.helpModelFlag?html+'<li><a rel="nofollow" href="'+e.predictive[c].url+'"'+d+'><span class="product-name">'+e.predictive[c].name+'</span><span class="category-name">'+e.predictive[c].category+"</span></a></li>":html+'<li><a rel="nofollow" href="'+e.predictive[c].url+'"'+d+'><span class="model-name">'+e.predictive[c].content+'</span><span class="product-name">'+e.predictive[c].name+'</span><span class="category-name">'+e.predictive[c].category+"</span></a></li>"}s.html(html),this.functionName&&""!=this.functionName&&s.find("li a").on("click",function(e){e.preventDefault();var t=$(this).find(".model-name").text(),i=$(this).data("category"),a=$(this).data("subcategory"),e=u[h].functionName;e&&("pickerBox.model"==e?(new Function(e+'("'+t+'", "'+i+'", "'+a+'")')(),$(this).closest("form.search-common-hero").find(".search-input input[type=text]").val($(this).find(".model-name").text()),adobeTrackEvent("cs-onsite-search",{search_keyword:u[h].$obj.find(".search-input input[type=text]").val(),page_event:{onsite_search:!0}})):new Function(e+"()")()),u[h].$layer.removeClass("active")});i=u[h].$layer.find(".results .value");0<i.length&&i.text(e.predictive.length)}else{a.show(),s.hide();s=u[h].$layer.find(".results .value");0<s.length&&s.text("0")}}}},u[h].init())}),$("body").on("click.seemorehero",".search-area .search-layer .search-footer-area a.link-more-hero",function(e){e.preventDefault();var t=$(this).attr("href"),e=$(".search-common-hero").find(".search-input input").val();$form=$("<form />",{id:"tmpForm",action:t,method:"post"}),$form.append('<input type="hidden" name="search" value="'+xssfilter(e)+'">'),$("body").append($form),$("#tmpForm").submit()})});
//# sourceMappingURL=maps/home-carousel.min.js.map